<form (ngSubmit)="submitForm()">
  <br><br><br>
  <div class="user-management" style="
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 5px;
  background-color: #f9f9f9;
">
   <h2>Gestion des rôles par utilisateur</h2>

  <div class="form-group">
    <label for="nom">Nom:</label>
    <input type="text" disabled [(ngModel)]="user.username" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Nom Produit" id="nom">
  </div>
  <label for="nom">Rôles:</label>
  <div style="margin-bottom: 10px;">
  <div *ngFor="let role of roles">
    <label>
      <input type="checkbox" [(ngModel)]="role.selected" [value]="role.id" name="selectedRoles"> {{ role.cdRole }}
    </label>
  </div>
</div>
  <button style="
  padding: 10px 20px;
  background-color: green;
  color: #fff;
  border: none;
  border-color: green;
  border-radius: 5px;
  cursor: pointer;" type="submit">Enregistrer</button>
  </div>
  <br><br><br>

</form>
<div class="card">
  <div class="card-body">
    <div class="table-responsive">
      <div class="main-search-input-wrap">
        <div class="main-search-input fl-wrap">
<table id="zero_config" class="table table-striped table-bordered">
<thead>
  <tr>
    <th>Matricule</th>
    <th>Nom</th>
    <th>Prénom</th>
    <th>Roles</th>
    <th>Action</th>
  </tr>
</thead>
<tbody>
  <ng-container *ngIf="user">
    <ng-container *ngFor="let role of user.userRoles; let isLast=last">
      <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.fullname }}</td>
        <td>{{ role.cdRole }}</td>
        <td> 
          <button *ngIf="user && user.id && role" (click)="deleteRole(user.id, role.id!)" style="
          padding: 10px 20px;
          background-color: red;
          color: #fff;
          border: none;
          border-color: red;
          border-radius: 5px;
          cursor: pointer;">Delete</button>
        </td> 
      </tr>
    </ng-container>
  </ng-container>
</tbody>

<tfoot>
  <tr>
    <th>Matricule</th>
    <th>Nom</th>
    <th>Prénom</th>
    <th>Roles</th>
  </tr>
</tfoot>
</table>
